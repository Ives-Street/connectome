{
  "version": "1.1",
  "metadata": {
    "description": "Unified configuration for congestion formulas, functional classes, clamps, lanes, and capacity used in Ives Street traffic analyses.",
    "formulas": {
      "travel_time": "t = t0 * (1 + alpha * (vc_ratio ** beta))",
      "speed": "u = u_ff / (1 + alpha * (vc_ratio ** beta))",
      "notes": "vc_ratio = v / c, where v is directional volume (vph) and c is directional capacity (vph)."
    }
  },

  "functional_classes": {
    "freeway": {
      "description": "Fully access-controlled freeways and motorways.",
      "alpha": 0.15,
      "beta": 6.0,
      "default_capacity_perlane": 1900,
      "min_capacity_perlane": 1600,
      "max_capacity_perlane": 2200,
      "always_treat_as_signalized": 0,
      "signal_capacity_factor": 0.6,
      "must_be_grade_separated": 1,
      "osm_highway_tags": ["motorway", "motorway_link"]
    },
    "multilane_arterial": {
      "description": "High-capacity regional roads with at-grade signals",
      "alpha": 0.3,
      "beta": 5,
      "capacity_perlane": 1600,
      "min_capacity_perlane": 1300,
      "max_capacity_perlane": 1900,
      "always_treat_as_signalized": 0,
      "signal_capacity_factor": 0.6,
      "must_be_grade_separated": 0,
      "osm_highway_tags": ["trunk", "trunk_link","primary", "primary_link"]
    },
    "smaller_arterial": {
      "description": "Lower-capacity urban/suburban arterials.",
      "alpha": 0.6,
      "beta": 3,
      "capacity_perlane": 1400,
      "min_capacity_perlane": 1200,
      "max_capacity_perlane": 1600,
      "always_treat_as_signalized": 0,
      "signal_capacity_factor": 0.55,
      "must_be_grade_separated": 0,
      "osm_highway_tags": ["trunk", "trunk_link", "primary", "primary_link"]
    },
    "collector": {
      "description": "Secondary arterials and collectors.",
      "alpha": 0.8,
      "beta": 2.5,
      "capacity_perlane": 1200,
      "min_capacity_perlane": 1000,
      "max_capacity_perlane": 1400,
      "always_treat_as_signalized": 1,
      "signal_capacity_factor": 0.5,
      "must_be_grade_separated": 0,
      "osm_highway_tags": ["secondary", "secondary_link", "tertiary"]
    },
    "local": {
      "description": "Local streets, access roads, and minor roads.",
      "alpha": 0.9,
      "beta": 2.0,
      "capacity_perlane": 900,
      "min_capacity_perlane": 700,
      "max_capacity_perlane": 1100,
      "always_treat_as_signalized": 1,
      "signal_capacity_factor": 0.5,
      "must_be_grade_separated": 0,
      "osm_highway_tags": [
        "residential",
        "unclassified",
        "service",
        "living_street",
        "road",
        "track"
      ]
    }
  },

  "clamps": {
    "vc_ratio": {
      "min_vc": 0.05,
      "max_vc": 1.5
    },
    "speed": {
      "min_speed_kph": 8.0,
      "max_speed_factor_of_ff": 1.0
    },
    "inverse_volume_estimation": {
      "min_vc_after_inversion": 0.05,
      "max_vc_after_inversion": 1.5
    }
  },

  "toll_cost_per_km": {
    "description": "Dollars per km at peak hour. Default taken as a rough average of current charges on I25 and I70",
    "default": 0.62,
    "I270_CDOT": 0.62,
    "I270_HCNWA": 0.41,
    "I 70 EXPR": 0.35,
    "I 25 EXPR": 0.96
  },

  "toll_exemptions": {
    "description": "List of geom_ids to be exempted from tolls on the road with the given ref",
    "exemptions": {
      "I270_HCNWA": [
        141,
        755,
        585,
        147,
        1092,
        757
      ]
    }
  },

  "custom_capacities": {
    "description": "hard-wired capacities for specific roadways by OSM reference (not per lane, total)" ,
    "I 270": 3000
  },

  "custom_capacities_perlane": {
    "description": "hard-wired capacities for specific roadways by OSM reference (not per lane, total)" ,
    "improved_lanes": 1600
  },

  "value_of_travel_time": {
    "description": "value of an hour of travel time, expressed as a fraction of hourly wage",
    "personal_medium_value":0.25,
    "source": "https://www.vtpi.org/tca/tca0502.pdf ,  p.5.2-23"
  },

  "link_penalties": {
    "link_traversal_time_penalty_sec": 12.0,
    "link_traversal_time_penalty_max_length_m": 300.0
  },

  "signal_capacity_factor_default": 0.6,

  "default_dir_lanes_by_highway": {
    "motorway": 3,
    "motorway_link": 1,
    "trunk": 2,
    "trunk_link": 1,
    "primary": 2,
    "primary_link": 1,
    "secondary": 2,
    "secondary_link": 1,
    "tertiary": 1,
    "tertiary_link": 1,
    "unclassified": 1,
    "residential": 1,
    "living_street": 1,
    "service": 1,
    "track": 1
  },


  "osm_highway_to_tmas_fsystem_rank": {
  "motorway":        [1, 2, 3],
  "trunk":           [2, 1, 3],
  "primary":         [3, 2, 4, 5],
  "secondary":       [4, 3, 5, 2, 6],
  "tertiary":        [5, 4, 6, 3, 7],
  "unclassified":    [7, 6, 5],
  "residential":     [7, 6, 5],
  "living_street":   [7],
  "service":         [7, 6, 5],
  "road":            [4, 3, 5, 2, 6, 7]
  },

  "parking_cost": {
    "description": "Cost in USD for 8 hours parking, 9-5, on a weekday. Key is the minimum lodes_jobs_per_sqkm. From Parkopedia.",
    "40000": 10
  }

}
